{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TestResults",
  "description": "Structured output for test run results",
  "type": "object",
  "properties": {
    "passed": {
      "type": "integer",
      "description": "Number of tests that passed",
      "minimum": 0
    },
    "failed": {
      "type": "integer",
      "description": "Number of tests that failed",
      "minimum": 0
    },
    "skipped": {
      "type": "integer",
      "description": "Number of tests that were skipped",
      "minimum": 0
    },
    "total": {
      "type": "integer",
      "description": "Total number of tests",
      "minimum": 0
    },
    "duration_seconds": {
      "type": "number",
      "description": "Total test run duration in seconds"
    },
    "failures": {
      "type": "array",
      "description": "Details of failed tests",
      "items": {
        "type": "object",
        "properties": {
          "test": {
            "type": "string",
            "description": "Test name or description"
          },
          "file": {
            "type": "string",
            "description": "File path containing the test"
          },
          "line": {
            "type": "integer",
            "description": "Line number where test is defined"
          },
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "stack": {
            "type": "string",
            "description": "Stack trace if available"
          }
        },
        "required": ["test", "error"]
      }
    },
    "summary": {
      "type": "string",
      "description": "Human-readable summary of results"
    }
  },
  "required": ["passed", "failed", "summary"]
}
