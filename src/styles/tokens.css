:root {
  /* === Page-level Theme Variables === */
  /* These are used by pages (HomePage, LandingPage, etc.) */
  --page-bg: #0d1117;
  --page-bg-elevated: #161b22;
  --page-border: #30363d;
  --page-text-primary: #e6edf3;
  --page-text-secondary: #8d96a0;
  --page-accent: #8b5cf6;
  --page-accent-hover: #7c3aed;
  --nav-bg: #161b22;
  --nav-border: #30363d;
  --card-bg: #161b22;
  --card-border: #30363d;
  --card-border-hover: #8b5cf6;
  --input-bg: #161b22;
  --input-border: #30363d;
  --input-focus-border: #8b5cf6;
  --input-focus-shadow: rgba(139, 92, 246, 0.1);

  /* === Editor/Canvas Theme Variables (Dark) === */
  /* Palette */
  --cc-bg-steel-0: #0f1418;
  --cc-bg-steel-1: #131a20;
  --cc-bg-steel-2: #161f26;
  --cc-bg-steel-3: #1a232b;
  --cc-bg-app: #131a20;
  --cc-color-axis-label: #e6edf3; /* Light text for dark theme */
  --cc-color-axis-line: #ffffff60;
  --cc-color-axis-line-strong: #ffffff80;
  --cc-color-grid-minor: #ffffff25;
  --cc-color-grid-major: #ffffff40;
  --cc-color-focus-accent: #74c7ec;
  --cc-color-border: #2a3642;
  --cc-color-panel-bg: #1f2932;
  --cc-color-panel-fg: #e2e8f0;
  --cc-color-accent-primary: #5090ea;
  --cc-color-accent-primary-hover: #367bd9;
  --cc-color-anchor-fill: #e5e7eb; /* small light grey square */
  --cc-color-anchor-hover: #d1d5db; /* slightly darker on hover */
  --cc-color-anchor-outline: #9ca3af; /* subtle outline */
  --cc-color-anchor-selected: #4f9dfc; /* refined selection tone */
  --cc-color-selection-glow: #63b3ff55; /* translucent glow */
  --cc-color-connector: #94a3b8;
  --cc-color-card-bg: #1d2730;
  --cc-color-card-border: #2e3a46;
  --cc-color-card-divider: #2b3742;
  --cc-color-card-title: #f1f5f9;
  --cc-color-card-body: #c5d0d9;

  /* Typography */
  --cc-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --cc-font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  /* Sizing & spacing */
  --cc-space-0: 0;
  --cc-space-1: 2px;
  --cc-space-2: 4px;
  --cc-space-3: 6px;
  --cc-space-4: 8px;
  --cc-space-5: 10px;
  --cc-space-6: 12px;
  --cc-gutter-x: 16px; /* horizontal spacing between columns */
  --cc-gutter-y: 10px; /* vertical spacing between rows */
  --cc-axis-clearance: 14px; /* min distance from axis line to nearest card edge */
  --cc-connector-width: 1.5px; /* connector stroke width */
  --cc-card-w-full: 256px;
  --cc-card-h-full: 96px;
  --cc-card-w-compact: 176px;
  --cc-card-h-compact: 64px;
  --cc-card-w-minimal: 140px;
  --cc-card-h-minimal: 32px;
  --cc-radius-sm: 3px;
  --cc-radius-md: 6px;
  --cc-radius-card: 4px; /* new card radius */
  --cc-card-pad: 0.6; /* viewBox units padding reference */

  /* Effects */
  --cc-focus-ring-width: 0.6;
  --cc-shadow-card: 0 2px 4px -2px #00000080, 0 4px 16px -4px #00000066;
  
  /* Z-index conventions */
  --cc-z-hud: 1000;
  --cc-z-anchors: 500;
  --cc-z-cards: 200;
  --cc-z-grid: 150;
  --cc-z-background: 0;

  /* Axis sizing */
  --cc-axis-line-width: 0.18;

  /* Background gradient (subtle vignette) */
  --cc-bg-gradient: radial-gradient(120% 140% at 50% -10%, var(--cc-bg-steel-2) 0%, var(--cc-bg-steel-1) 55%, var(--cc-bg-steel-0) 85%);

  /* New Accent & Semantic Tokens (Phase E) */
  --cc-color-accent-create: #06b6d4; /* replaces prior #0ff cyan */
  --cc-color-accent-create-fade: #06b6d4b3;
  --cc-color-success-bg: #059669;
  --cc-color-success-fg: #ffffff;
  --cc-color-danger-bg: #334350;
  --cc-color-danger-fg: #e2e8f0;
  --cc-color-input-bg: #1e2a33;
  --cc-color-input-border: #334350;
  --cc-color-input-placeholder: #64748b;
  --cc-color-focus-ring: var(--cc-color-focus-accent);
  --cc-focus-ring-outline: 2px solid var(--cc-color-focus-ring);

  /* Scrollbar styling (dark theme) */
  --scrollbar-track: #0d1117;
  --scrollbar-thumb: #8b2635;
  --scrollbar-thumb-hover: #a62f3f;

  /* Stream Viewer (v0.5.26) */
  --stream-rail-color: #30363d;
  --stream-dot-size: 14px;
  --stream-dot-color: #8b5cf6;
  --stream-dot-color-hover: #a78bfa;
  --stream-date-width: 72px;
  --stream-card-gap: 20px;
  --stream-bg: #0d1117;
  --stream-card-bg: #161b22;
  --stream-card-border: #30363d;
  --stream-text-primary: #e6edf3;
  --stream-text-secondary: #8d96a0;
  --stream-text-muted: #6e7681;
}

/* === Light Theme Overrides === */
[data-theme="light"] {
  /* Page-level variables */
  --page-bg: #ffffff;
  --page-bg-elevated: #f6f8fa;
  --page-border: #d0d7de;
  --page-text-primary: #1f2328;
  --page-text-secondary: #656d76;
  --page-accent: #8b5cf6;
  --page-accent-hover: #7c3aed;
  --nav-bg: #f6f8fa;
  --nav-border: #d0d7de;
  --card-bg: #ffffff;
  --card-border: #d0d7de;
  --card-border-hover: #8b5cf6;
  --input-bg: #ffffff;
  --input-border: #d0d7de;
  --input-focus-border: #8b5cf6;
  --input-focus-shadow: rgba(139, 92, 246, 0.15);

  /* Editor/Canvas variables for light mode */
  --cc-bg-steel-0: #f0f2f5;
  --cc-bg-steel-1: #f6f8fa;
  --cc-bg-steel-2: #ffffff;
  --cc-bg-steel-3: #ffffff;
  --cc-bg-app: #f6f8fa;
  --cc-color-axis-label: #1f2328;
  --cc-color-axis-line: #00000040;
  --cc-color-axis-line-strong: #00000060;
  --cc-color-grid-minor: #00000015;
  --cc-color-grid-major: #00000025;
  --cc-color-border: #d0d7de;
  --cc-color-panel-bg: #ffffff;
  --cc-color-panel-fg: #1f2328;
  --cc-color-card-bg: #ffffff;
  --cc-color-card-border: #d0d7de;
  --cc-color-card-divider: #d0d7de;
  --cc-color-card-title: #1f2328;
  --cc-color-card-body: #656d76;
  --cc-bg-gradient: linear-gradient(180deg, #f6f8fa 0%, #ffffff 100%);

  /* Scrollbar styling (light theme) */
  --scrollbar-track: #f0f0f0;
  --scrollbar-thumb: #888888;
  --scrollbar-thumb-hover: #666666;

  /* Stream Viewer (light theme) */
  --stream-rail-color: #d0d7de;
  --stream-dot-color: #8b5cf6;
  --stream-dot-color-hover: #7c3aed;
  --stream-bg: #ffffff;
  --stream-card-bg: #f6f8fa;
  --stream-card-border: #d0d7de;
  --stream-text-primary: #1f2328;
  --stream-text-secondary: #656d76;
  --stream-text-muted: #8c959f;
}

/* High contrast mode adjustments (Phase F) */
@media (forced-colors: active) {
  :root {
    --cc-color-focus-ring: Highlight;
    --cc-color-anchor-fill: ButtonFace;
    --cc-color-anchor-outline: ButtonText;
    --cc-color-card-bg: Canvas;
    --cc-color-card-border: ButtonText;
    --cc-color-card-title: ButtonText;
    --cc-color-card-body: ButtonText;
    --cc-color-connector: ButtonText;
  }
  svg g[role="button"] rect { forced-color-adjust: auto; }
}
