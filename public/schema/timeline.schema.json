{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://powertimeline.com/schema/timeline.schema.json",
  "title": "PowerTimeline YAML Schema",
  "description": "Schema for importing timeline events into PowerTimeline. Supports both timeline metadata and event data.",
  "type": "object",
  "required": ["timeline"],
  "properties": {
    "timeline": {
      "type": "object",
      "required": ["events"],
      "properties": {
        "metadata": {
          "type": "object",
          "description": "Timeline metadata (optional for imports, auto-generated on export)",
          "properties": {
            "name": {
              "type": "string",
              "description": "Timeline name",
              "examples": ["JFK Timeline", "World War II Events"]
            },
            "description": {
              "type": "string",
              "description": "Optional timeline description"
            },
            "created": {
              "type": "string",
              "format": "date-time",
              "description": "Creation timestamp (ISO 8601 format)",
              "examples": ["2024-01-01T00:00:00.000Z"]
            },
            "version": {
              "type": "string",
              "description": "Schema version",
              "default": "1.0"
            },
            "exported_by": {
              "type": "string",
              "description": "Exporting application and version",
              "examples": ["PowerTimeline v0.7.14"]
            }
          }
        },
        "events": {
          "type": "array",
          "description": "Array of timeline events",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["id", "date", "title"],
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique event identifier (UUID recommended)",
                "examples": ["event-1", "550e8400-e29b-41d4-a716-446655440000"]
              },
              "date": {
                "type": "string",
                "format": "date",
                "description": "Event date in ISO 8601 format (YYYY-MM-DD)",
                "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                "examples": ["1968-06-05", "2024-01-15"]
              },
              "title": {
                "type": "string",
                "description": "Event title (required)",
                "minLength": 1,
                "examples": ["RFK Assassination", "Moon Landing"]
              },
              "description": {
                "type": "string",
                "description": "Event description (optional, markdown supported)",
                "examples": [
                  "Robert F. Kennedy was assassinated at the Ambassador Hotel in Los Angeles.",
                  "Apollo 11 landed on the Moon with astronauts Neil Armstrong and Buzz Aldrin."
                ]
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "Optional end date for time ranges (YYYY-MM-DD)",
                "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                "examples": ["1968-06-06", "2024-01-20"]
              },
              "time": {
                "type": "string",
                "description": "Optional time in HH:MM format (24-hour)",
                "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
                "examples": ["12:15", "00:56", "23:45"]
              },
              "sources": {
                "type": "array",
                "description": "Array of source references (URLs or text)",
                "items": {
                  "type": "string"
                },
                "examples": [
                  ["https://en.wikipedia.org/wiki/Assassination_of_Robert_F._Kennedy"],
                  ["NASA archives", "https://www.nasa.gov/mission_pages/apollo/apollo11.html"]
                ]
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "timeline": {
        "metadata": {
          "name": "Historical Events",
          "description": "Key moments in history",
          "created": "2024-01-01T00:00:00.000Z",
          "version": "1.0",
          "exported_by": "PowerTimeline v0.7.14"
        },
        "events": [
          {
            "id": "event-1",
            "date": "1968-06-05",
            "title": "RFK Assassination",
            "description": "Robert F. Kennedy was assassinated at the Ambassador Hotel in Los Angeles.",
            "time": "00:15",
            "sources": [
              "https://en.wikipedia.org/wiki/Assassination_of_Robert_F._Kennedy"
            ]
          },
          {
            "id": "event-2",
            "date": "1969-07-20",
            "endDate": "1969-07-21",
            "title": "Moon Landing",
            "description": "Apollo 11 astronauts Neil Armstrong and Buzz Aldrin became the first humans to walk on the Moon.",
            "time": "20:17",
            "sources": [
              "https://www.nasa.gov/mission_pages/apollo/apollo11.html"
            ]
          }
        ]
      }
    }
  ]
}
